query Notes($latitude: Float!, $longitude: Float!, $distance: Float!) {
  notes: note(
    where: {
      location: { _st_d_within: { distance: $distance, from: { type: "Point", coordinates: [$longitude, $latitude] } } }
    }
  ) {
    id
    content
    location
  }
}

query Note($id: uuid!) {
  note: get_note(note_id: $id) {
    data: note {
      id
      content
      createdAt: created_at
      user {
        username
      }
      views_aggregate {
        aggregate {
          count
        }
      }
    }
  }
}

query MyNote($noteId: uuid!) {
  note: note_by_pk(id: $noteId) {
    id
    location
    createdAt: created_at
    content
    views_aggregate {
      aggregate {
        count
      }
    }
  }
}

query MyNotes($userId: String!) {
  notes: note(where: { user_id: { _eq: $userId } }, order_by: { created_at: desc }) {
    id
    createdAt: created_at
    content
    views_aggregate {
      aggregate {
        count
      }
    }
  }
}

query User($userId: String!) {
  user: user_by_pk(id: $userId) {
    username
  }
}
