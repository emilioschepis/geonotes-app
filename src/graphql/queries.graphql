query Notes($latitude: Float!, $longitude: Float!, $distance: Float! = 100) {
  notes: note(
    where: {
      location: { _st_d_within: { distance: $distance, from: { type: "Point", coordinates: [$longitude, $latitude] } } }
    }
  ) {
    id
    content
    location
  }
}

query Note($id: uuid!) {
  note: note_by_pk(id: $id) {
    id
    content
    createdAt: created_at
    user {
      username
    }
  }
}

query MyNotes($userId: String!) {
  notes: note(where: { user_id: { _eq: $userId } }, order_by: { created_at: desc }) {
    id
    createdAt: created_at
    content
  }
}

query User($userId: String!) {
  user: user_by_pk(id: $userId) {
    username
  }
}
